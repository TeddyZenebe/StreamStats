String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,r){return"undefined"!=typeof t[r]?t[r]:e})});var StreamStats;!function(t){"use strinct";var e=function(){function t(t,e){this.$stateProvider=t,this.$urlRouterProvider=e,this.$stateProvider.state("main",{url:"/",template:"<ui-view/>",views:{map:{templateUrl:"Views/mapview.html",controller:"StreamStats.Controllers.MapController"},sidebar:{templateUrl:"Views/sidebarview.html",controller:"StreamStats.Controllers.SidebarController"},navbar:{templateUrl:"Views/navigationview.html"}}}),this.$urlRouterProvider.otherwise("/")}return t.$inject=["$stateProvider","$urlRouterProvider"],t}();angular.module("StreamStats",["ui.router","ui.bootstrap","leaflet-directive","StreamStats.Services","StreamStats.Controllers","WiM.Services"]).config(e)}(StreamStats||(StreamStats={}));var configuration={};configuration.baseurls={MercuryService:"http://54.174.81.42/mercuryservices",MercuryAuth:"http://54.174.81.42/mercuryauth",RegressionService:"http://50.17.205.92/regressionservice/models",KrigService:"http://50.17.205.92/krigservice",NWISurl:"http://waterservices.usgs.gov/nwis",StreamStats:"http://ssdev.cr.usgs.gov",SearchAPI:"http://txpub.usgs.gov/DSS/search_api/1.0/dataService/dataService.ashx",FARefGage:"http://wim.usgs.gov/arcgis/rest/services/CedarRiverMapper/IowaFlowAnywhere/MapServer"},configuration.queryparams={NWISsite:"/site/?format=mapper,1.0&stateCd={0}&siteType=GL,OC,OC-CO,ES,LK,ST,ST-CA,ST-DCH,ST-TS&hasDataTypeCd=iv",KrigService:"/krig?state={0}&xlocation={1}&ylocation={2}&sr={3}",RegressionMScenarios:"/{0}/estimate?state={1}",SSdelineation:"/watershed.geojson?state={0}&xlocation={1}&ylocation={2}&wkid={3}&includecharacteristics={4}",SSbasinChar:"/basincharacteristics?state={0}&workspaceID={1}&includecharacteristics={2}",FARefGage:"/2/query?geometry={0}&geometryType=esriGeometryPoint&inSR={1}&spatialRel=esriSpatialRelIntersects&outFields=regions_local.Region_Agg,reference_gages.site_id,reference_gages.site_name,reference_gages.da_gis_mi2,reference_gages.lat_dd_nad,reference_gages.long_dd_na&returnGeometry=false&returnIdsOnly=false&returnCountOnly=false&returnZ=false&returnM=false&returnDistinctValues=false&f=pjson"},configuration.basemaps={mapquestOSM:{name:"Mapquest Streets",url:"http://{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",type:"xyz",layerOptions:{maxZoom:19,subdomains:["otile1","otile2","otile3","otile4"],attribution:"Tiles courtesy of <a href='http://www.mapquest.com/' target='_blank'>MapQuest</a> <img src='http://developer.mapquest.com/content/osm/mq_logo.png'>. Map data (c) <a href='http://www.openstreetmap.org/' target='_blank'>OpenStreetMap</a> contributors, CC-BY-SA."}},MapquestOAM:{name:"Mapquest Areal",url:"http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.png",type:"xyz",layerOptions:{maxZoom:19,subdomains:["oatile1","oatile2","oatile3","oatile4"],attribution:'Tiles courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>. Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},MapquestHYB:{name:"Mapquest Hybrid",type:"group",layerOptions:{maxZoom:19,layers:[{name:"tiles",url:"http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",type:"xyz",layerOptions:{maxZoom:19,subdomains:["oatile1","oatile2","oatile3","oatile4"]}},{name:"roads",url:"http://{s}.mqcdn.com/tiles/1.0.0/hyb/{z}/{x}/{y}.png",type:"xyz",layerOptions:{maxZoom:19,subdomains:["oatile1","oatile2","oatile3","oatile4"],attribution:'Labels courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png">. Map data (c) <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> contributors, CC-BY-SA. Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}}]}},tnmBaseMap:{name:"USGS National Map",url:"http://navigator.er.usgs.gov/tiles/tcr.cgi/{z}/{x}/{y}.png",type:"xyz",layerOptions:{maxZoom:20,attribution:"<a href='http://www.doi.gov'>U.S. Department of the Interior</a> | <a href='http://www.usgs.gov'>U.S. Geological Survey</a> | <a href='http://www.usgs.gov/laws/policies_notices.html'>Policies</a>"}}},configuration.overlayedLayers={SSLayer:{name:"streamStats implementation",url:"http://ssdev.cr.usgs.gov/arcgis/rest/services/ss_studyAreas_dev/MapServer",type:"dynamic",visible:!0,layerOptions:{opacity:.5,style:function(t){return{color:"gray",weight:2}}}}};var StreamStats;!function(t){var e;!function(t){var e=function(){function t(t,e){this.RegionID=t,this.Name=e}return t}();t.Region=e}(e=t.Models||(t.Models={}))}(StreamStats||(StreamStats={})),function(){"use strict";angular.module("StreamStats.Controllers",[])}();var StreamStats;!function(t){var e;!function(t){"use strinct";var e=function(){function t(){this.lat=0,this["long"]=0}return t}(),r=function(){function t(t,e,r){this.lat=t,this.lng=e,this.zoom=r}return t}(),i=function(){function t(t,e,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===r&&(r=!0),this.maxZoom=t,this.minZoom=e,this.zoomControl=r}return t}(),s=function(){function t(t){var e=this;this.center=null,this.layers=null,this.controls=null,this.markers=null,this.mapDefaults=null,this.events=null,this.mapPoint=null,t.vm=this,t.$on("leafletDirectiveMap.mousemove",function(t,r){var i=r.leafletEvent.latlng;e.mapPoint.lat=i.lat,e.mapPoint["long"]=i.lng}),this.init()}return t.prototype.init=function(){this.center=new r(39,-100,4),this.layers={baselayers:configuration.basemaps,overlays:configuration.overlayedLayers,markers:this.markers},this.mapDefaults=new i(null,3,!1),this.controls={scale:!0,zoomControl:!1,custom:new Array(L.Control.zoomHome({homeCoordinates:[39,-100],homeZoom:4}),L.control.locate({follow:!0}))},this.events={map:{enable:["mousemove"],logic:"emit"}},this.mapPoint=new e},t.$inject=["$scope"],t}();angular.module("StreamStats.Controllers").controller("StreamStats.Controllers.MapController",s)}(e=t.Controllers||(t.Controllers={}))}(StreamStats||(StreamStats={}));var StreamStats;!function(t){var e;!function(e){"use strinct";var r,i=function(){function e(e,r){e.vm=this,this.searchService=r,this.sideBarCollapsed=!1,this.selectedProcedure=1,this.RegionList=[new t.Models.Region("1","Iowa"),new t.Models.Region("2","New York"),new t.Models.Region("2","New York2"),new t.Models.Region("2","New York3"),new t.Models.Region("2","Ill")],this.SelectedRegion=this.RegionList[0],this.selectedLocation=void 0}return e.prototype.GetLocations=function(t){return this.searchService.getLocations(t)},e.prototype.setProcedureType=function(t){this.selectedProcedure!=t&&this.canUpdateProceedure(t)&&(this.selectedProcedure=t)},e.prototype.toggleSideBar=function(){this.sideBarCollapsed?this.sideBarCollapsed=!1:this.sideBarCollapsed=!0},e.prototype.canUpdateProceedure=function(t){try{return!0}catch(e){return!1}},e.prototype.sm=function(t){try{}catch(e){}},e.$inject=["$scope","WiM.Services.SearchAPIService"],e}();!function(t){t[t.INIT=1]="INIT",t[t.IDENTIFY=2]="IDENTIFY",t[t.SELECT=3]="SELECT",t[t.REFINE=4]="REFINE",t[t.BUILD=5]="BUILD"}(r||(r={})),angular.module("StreamStats.Controllers").controller("StreamStats.Controllers.SidebarController",i)}(e=t.Controllers||(t.Controllers={}))}(StreamStats||(StreamStats={})),function(){"use strict";angular.module("StreamStats.Services",[])}(),function(){"use strict";angular.module("WiM.Services",[])}();var WiM;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i="json"),void 0===s&&(s=null),this.url=t,this.method=r[e],this.dataType=i,this.data=s}return t}();t.RequestInfo=e,function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.DELETE=3]="DELETE"}(t.methodType||(t.methodType={}));var r=t.methodType}(e=t.Helpers||(t.Helpers={}))}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){"use strict";var e=function(){function t(t,e){this.baseURL=e,this.$http=t}return t.prototype.Execute=function(t){return t.url=this.baseURL+t.url,this.$http(t)},t}();t.HTTPServiceBase=e}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var __extends=this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r},WiM;!function(t){var e;!function(e){"use strict";function r(t,e){return new s(t,e)}var i=function(){function t(t,e,r,i,s){this.Name=t,this.Category=e,this.State=r,this.Latitude=i,this.Longitude=s,this.crs="4326"}return t}();e.SearchLocation=i;var s=function(e){function r(t,r){e.call(this,t,configuration.baseurls.SearchAPI),this.$q=r,this.init()}return __extends(r,e),r.prototype.getLocations=function(e){var r=this,s=new t.Services.Helpers.RequestInfo("/search");return s.params={term:e,includeGNIS:this.includeGNIS,useCommonGnisClasses:this.useCommonGnisClasses,includeUsgsSiteSW:this.includeUsgsSiteSW,includeUsgsSiteGW:this.includeUsgsSiteGW,includeUsgsSiteSP:this.includeUsgsSiteSP,includeUsgsSiteAT:this.includeUsgsSiteAT,includeUsgsSiteOT:this.includeUsgsSiteOT,includeZIPcodes:this.includeZIPcodes,includeAREAcodes:this.includeAREAcodes,includeState:this.includeState,topN:this.topN,debug:this.debug},this.Execute(s).then(function(t){return t.data.map(function(t){return new i(t.nm,t.ct,t.st,t.y,t.x)})},function(t){return r.$q.reject(t.data)})},r.prototype.init=function(){this.includeGNIS=!0,this.useCommonGnisClasses=!0,this.includeUsgsSiteSW=!0,this.includeUsgsSiteGW=!0,this.includeUsgsSiteSP=!0,this.includeUsgsSiteAT=!0,this.includeUsgsSiteOT=!0,this.includeZIPcodes=!0,this.includeAREAcodes=!0,this.includeState=!0,this.topN=100,this.debug=!1},r}(e.HTTPServiceBase);r.$inject=["$http","$q"],angular.module("WiM.Services").factory("WiM.Services.SearchAPIService",r)}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));